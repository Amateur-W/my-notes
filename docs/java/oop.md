# 3. é¢å‘å¯¹è±¡

Java æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚  
é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject-Oriented Programmingï¼Œç®€ç§° OOPï¼‰æ˜¯ä¸€ç§ä»¥å¯¹è±¡ä¸ºæ ¸å¿ƒè¿›è¡Œç¨‹åºè®¾è®¡çš„æ–¹æ³•ã€‚

æœ¬èŠ‚åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µå’Œå®ç°æ–¹å¼ï¼š

- **ç±»**ï¼ˆClassï¼‰ï¼šå®šä¹‰å¯¹è±¡çš„æ¨¡æ¿ï¼ŒåŒ…å«å±æ€§å’Œæ–¹æ³•ã€‚
- **å®ä¾‹**ï¼ˆInstanceï¼‰ï¼šæ ¹æ®ç±»åˆ›å»ºçš„å…·ä½“å¯¹è±¡ã€‚
- **æ–¹æ³•**ï¼ˆMethodï¼‰ï¼šå®šä¹‰å¯¹è±¡å¯ä»¥æ‰§è¡Œçš„æ“ä½œæˆ–è¡Œä¸ºã€‚
---
- **ç»§æ‰¿**ï¼ˆInheritanceï¼‰ï¼šå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œæå‡ä»£ç å¤ç”¨æ€§ã€‚
- **å¤šæ€**ï¼ˆPolymorphismï¼‰ï¼šå…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯ä½œå‡ºå“åº”ï¼Œæé«˜ç¨‹åºçµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

## 3.1 é¢å‘å¯¹è±¡åŸºç¡€

é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§é€šè¿‡å¯¹è±¡çš„æ–¹å¼ï¼ŒæŠŠç°å®ä¸–ç•Œæ˜ å°„åˆ°è®¡ç®—æœºæ¨¡å‹çš„ä¸€ç§ç¼–ç¨‹æ–¹æ³•ã€‚

ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†â€œäººâ€è¿™ç§æŠ½è±¡æ¦‚å¿µï¼Œè€Œå…·ä½“çš„äººåˆ™æ˜¯â€œå°æ˜ã€å°çº¢ã€å°å†›â€ç­‰ä¸€ä¸ªä¸ªå…·ä½“çš„äººã€‚  æ‰€ä»¥ï¼Œâ€œäººâ€å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªç±»ï¼ˆclassï¼‰ï¼Œè€Œå…·ä½“çš„äººåˆ™æ˜¯å®ä¾‹ï¼ˆinstanceï¼‰ã€‚

---

### ğŸ’¡ class ä¸ instance çš„æ¦‚å¿µ

- `class` æ˜¯ä¸€ç§**å¯¹è±¡æ¨¡æ¿**ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•åˆ›å»ºå®ä¾‹ï¼Œæœ¬èº«å°±æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚
- `instance` æ˜¯æ ¹æ® class åˆ›å»ºçš„**å®ä¾‹å¯¹è±¡**ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ª instanceï¼Œæ¯ä¸ª instance ç±»å‹ç›¸åŒï¼Œä½†å„è‡ªçš„å±æ€§å¯ä»¥ä¸åŒã€‚

---

### ğŸ› ï¸ å®šä¹‰ class

åœ¨ Java ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç±»ï¼Œä¾‹å¦‚å‘½åä¸º `Person`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```java
class Person {
    public String name;
    public int age;
}
```

ä¸€ä¸ª `class` å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µï¼ˆfieldï¼‰ï¼Œå­—æ®µç”¨æ¥æè¿°ä¸€ä¸ªç±»çš„ç‰¹å¾ã€‚  
ä¸Šé¢çš„ `Person` ç±»ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå­—æ®µï¼š
- ä¸€ä¸ªæ˜¯ `String` ç±»å‹ï¼Œå‘½åä¸º `name`ï¼›
- ä¸€ä¸ªæ˜¯ `int` ç±»å‹ï¼Œå‘½åä¸º `age`ã€‚

å› æ­¤ï¼Œé€šè¿‡ `class`ï¼Œå¯ä»¥å°†ä¸€ç»„æ•°æ®é›†åˆåˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šï¼Œå®ç°äº†**æ•°æ®å°è£…**ã€‚

> `public` æ˜¯ç”¨æ¥ä¿®é¥°å­—æ®µçš„ï¼Œè¡¨ç¤ºè¯¥å­—æ®µå¯ä»¥è¢«å¤–éƒ¨è®¿é—®ã€‚

---

### ğŸ  åˆ›å»ºå®ä¾‹

å®šä¹‰äº† `class`ï¼Œåªæ˜¯å®šä¹‰äº†å¯¹è±¡æ¨¡æ¿ï¼Œè€Œè¦æ ¹æ®è¯¥æ¨¡æ¿åˆ›å»ºçœŸæ­£çš„å®ä¾‹ï¼Œå¿…é¡»ä½¿ç”¨ `new` æ“ä½œç¬¦ã€‚

`new` æ“ä½œç¬¦å¯ä»¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œç„¶åï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡æ¥æŒ‡å‘è¿™ä¸ªå®ä¾‹ï¼š

```java
Person ming = new Person();
```

ä¸Šè¿°ä»£ç åˆ›å»ºäº†ä¸€ä¸ª `Person` ç±»å‹çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡å˜é‡ `ming` æŒ‡å‘å®ƒã€‚

æ³¨æ„åŒºåˆ†ï¼š
- `Person ming`ï¼šå®šä¹‰äº†ä¸€ä¸ª `Person` ç±»å‹çš„å˜é‡ `ming`ï¼›
- `new Person()`ï¼šåˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼›

ä¸¤è€…ç»“åˆï¼Œå®Œæˆäº†å®ä¾‹åŒ–çš„è¿‡ç¨‹ã€‚

---

### âœï¸ è®¿é—®å’Œæ“ä½œå®ä¾‹

æœ‰äº†å®ä¾‹å‚ç…§ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ "å˜é‡.å­—æ®µ" çš„æ–¹å¼æ“ä½œå®ä¾‹ï¼š

```java
ming.name = "Xiao Ming"; // å¯¹å­—æ®µ name èµ‹å€¼
ming.age = 12;           // å¯¹å­—æ®µ age èµ‹å€¼

System.out.println(ming.name); // è®¿é—®å­—æ®µ name
```

å†åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹ï¼š

```java
Person hong = new Person();
hong.name = "Xiao Hong";
hong.age = 15;

```

æ¯ä¸ªå®ä¾‹éƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„å­—æ®µï¼Œäº’ä¸å½±å“ã€‚

---

### âš ï¸ æ³¨æ„äº‹é¡¹

- ä¸€ä¸ª Java æºæ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ªç±»çš„å®šä¹‰ï¼›
- ä½†**åªèƒ½å®šä¹‰ä¸€ä¸ª `public` ç±»**ï¼Œä¸” `public` ç±»çš„åç§°å¿…é¡»ä¸æºæ–‡ä»¶åä¸€è‡´ï¼›
- å¦‚æœéœ€è¦å®šä¹‰å¤šä¸ª `public` ç±»ï¼Œå¿…é¡»å°†å®ƒä»¬æ‹†åˆ†åˆ°å¤šä¸ª Java æºæ–‡ä»¶ä¸­ã€‚

---

- è°ƒç”¨æ–¹æ³•çš„è¯­æ³•æ˜¯å®ä¾‹å˜é‡.æ–¹æ³•å(å‚æ•°);ä¾‹å¦‚ï¼šming.setName("Xiao Ming");
- å¯å˜å‚æ•°ï¼šå¯å˜å‚æ•°ç”¨ç±»å‹...å®šä¹‰ï¼Œå¯å˜å‚æ•°ç›¸å½“äºæ•°ç»„ç±»å‹ï¼Œä¾‹å¦‚ï¼š
```java
class Group {
    private String[] names;

    public void setNames(String... names) {
        this.names = names;
    }
}
```
æ–¹æ³•å¯ä»¥è®©å¤–éƒ¨ä»£ç å®‰å…¨åœ°è®¿é—®å®ä¾‹å­—æ®µï¼›

æ–¹æ³•æ˜¯ä¸€ç»„æ‰§è¡Œè¯­å¥ï¼Œå¹¶ä¸”å¯ä»¥æ‰§è¡Œä»»æ„é€»è¾‘ï¼›

æ–¹æ³•å†…éƒ¨é‡åˆ°returnæ—¶è¿”å›ï¼Œvoidè¡¨ç¤ºä¸è¿”å›ä»»ä½•å€¼ï¼ˆæ³¨æ„å’Œè¿”å›nullä¸åŒï¼‰ï¼›

å¤–éƒ¨ä»£ç é€šè¿‡publicæ–¹æ³•æ“ä½œå®ä¾‹ï¼Œå†…éƒ¨ä»£ç å¯ä»¥è°ƒç”¨privateæ–¹æ³•ï¼›

ç†è§£æ–¹æ³•çš„å‚æ•°ç»‘å®šã€‚ æ•°ç»„ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹å‚æ•°ï¼Œæ–¹æ³•ä¸­ä¼ çš„æ˜¯åœ°å€

âœ… åˆå§‹åŒ–é¡ºåºï¼š
é»˜è®¤åˆå§‹åŒ–ï¼š

æ‰€æœ‰å­—æ®µå…ˆè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ï¼ˆ0ã€falseã€null ç­‰ï¼‰ã€‚

æ˜¾å¼åˆå§‹åŒ–ï¼š

ä»£ç ä¸­ç›´æ¥èµ‹çš„åˆå§‹å€¼ï¼Œæ¯”å¦‚ private int age = 10;ã€‚

æ„é€ æ–¹æ³•åˆå§‹åŒ–ï¼š

æœ€åè¿è¡Œæ„é€ æ–¹æ³•é‡Œçš„ä»£ç ï¼Œè¦†ç›–å‰é¢çš„å€¼ã€‚

ä¸€ä¸ªæ„é€ æ–¹æ³•å¯ä»¥è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¾¿äºä»£ç å¤ç”¨ã€‚è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•çš„è¯­æ³•æ˜¯this(â€¦)ï¼š

- æ–¹æ³•é‡è½½ï¼š
è¿™ç§æ–¹æ³•åç›¸åŒï¼Œä½†å„è‡ªçš„å‚æ•°ä¸åŒï¼Œç§°ä¸ºæ–¹æ³•é‡è½½ï¼ˆOverloadï¼‰ã€‚

æ³¨æ„ï¼šæ–¹æ³•é‡è½½çš„è¿”å›å€¼ç±»å‹é€šå¸¸éƒ½æ˜¯ç›¸åŒçš„ã€‚

æ–¹æ³•é‡è½½çš„ç›®çš„æ˜¯ï¼ŒåŠŸèƒ½ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨åŒä¸€åå­—ï¼Œæ›´å®¹æ˜“è®°ä½ï¼Œå› æ­¤ï¼Œè°ƒç”¨èµ·æ¥æ›´ç®€å•ã€‚

- ç»§æ‰¿:
Javaä½¿ç”¨extendså…³é”®å­—æ¥å®ç°ç»§æ‰¿->

```java 
class Person {
    private String name;
    private int age;

    public String getName() {...}
    public void setName(String name) {...}
    public int getAge() {...}
    public void setAge(int age) {...}
}

class Student extends Person {
    // ä¸è¦é‡å¤nameå’Œageå­—æ®µ/æ–¹æ³•,
    // åªéœ€è¦å®šä¹‰æ–°å¢scoreå­—æ®µ/æ–¹æ³•:
    private int score;

    public int getScore() { â€¦ }
    public void setScore(int score) { â€¦ }
}
```
Personæ˜¯çˆ¶ç±»ï¼Œstudentæ˜¯å­ç±»ã€‚
ä¸ºäº†è®©å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„å­—æ®µï¼Œæˆ‘ä»¬éœ€è¦æŠŠprivateæ”¹ä¸ºprotectedã€‚ç”¨protectedä¿®é¥°çš„å­—æ®µå¯ä»¥è¢«å­ç±»è®¿é—®

**ç»§æ‰¿ï¼Œæ–¹æ³•é‡å†™ï¼Œå¤šæ€**å¾ˆé‡è¦

